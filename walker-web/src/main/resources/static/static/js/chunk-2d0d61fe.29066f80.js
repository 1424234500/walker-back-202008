(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d61fe"],{"70e4":function(e,l,t){"use strict";t.r(l);var a=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingCols,expression:"loadingCols"}],staticClass:"app-container"},[t("el-input",{staticStyle:{"margin-bottom":"30px"},attrs:{placeholder:"Filter keyword"},model:{value:e.filterText,callback:function(l){e.filterText=l},expression:"filterText"}}),e._v(" "),t("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingList,expression:"loadingList"}],ref:"tree",staticClass:"filter-tree",attrs:{data:e.data,lazy:"",load:e.loadNode,"show-checkbox":"",props:e.defaultProps,"filter-node-method":e.filterNode},on:{"check-change":e.handleCheckChange,"node-click":e.handleNodeClick}})],1)},i=[],n={created:function(){this.getColumns()},data:function(){return{filterText:"",data:[{id:1,label:"Level one 1",children:[{id:4,label:"Level two 1-1",children:[{id:9,label:"Level three 1-1-1"},{id:10,label:"Level three 1-1-2"}]}]},{id:2,label:"Level one 2",children:[{id:5,label:"Level two 2-1"},{id:6,label:"Level two 2-2"}]},{id:3,label:"Level one 3",children:[{id:7,label:"Level two 3-1"},{id:8,label:"Level two 3-2"}]}],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf"},loadingList:!0,loadingCols:!0,dir:"/",dataGet:null}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,l){return!e||-1!==l.label.indexOf(e)},getColumns:function(){var e=this;this.loadingCols=!0,this.get("/file/getColsMap.do",{}).then((function(l){e.colMap=l.data.colMap,e.colKey=l.data.colKey,e.loadingCols=!1,e.getListPage()})).catch((function(){e.loadingCols=!1}))},loadNode:function(e,l){console.log("loadNode",e);var t=e.data;null==t||"dir"===t.EXT?this.getListPage(t,l):l([])},handleNodeClick:function(e){if(console.log("handleNodeClick",e),"dir"!=e.EXT){this.$message.success("下载文件"+e.NAME);var l=document.createElement("a");l.href="/file/download.do?path="+e.PATH,l.click()}},getListPage:function(e,l){var t=this;this.loadingList=!0;var a=Object.assign({dir:null==e?"/":e.PATH},this.rowSearch);this.get("/file/dir.do",a).then((function(a){for(var i=0;i<a.data.list.length;i++){var n=a.data.list[i];n.id=n.PATH,n.label=n.NAME,n.isLeaf="dir"!=n.EXT}null==e&&(t.data=a.data.list),null!=l&&l(a.data.list),t.loadingList=!1})).catch((function(){t.loadingList=!1}))},handleCheckChange:function(e,l,t){console.log(e,l,t)}}},o=n,d=t("2877"),s=Object(d["a"])(o,a,i,!1,null,null,null);l["default"]=s.exports}}]);